#!env perl6
use lib "lib";
use Red;

multi MAIN("generate-code", Str :$driver, *%pars) {

    my $*RED-DB = database($driver, |%pars);

    my $class = $*RED-DB.schema-viewer-class-name;

    require ::($class);

    ::($class).table-definition($_).to-code.say for ::($class).tables-names
}
